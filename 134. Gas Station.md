# [134 Gas Station](https://leetcode.com/problems/gas-station/description/)
## 题目描述

There are N gas stations along a circular route, where the amount of gas at station i is gas[i].

You have a car with an unlimited gas tank and it costs cost[i] of gas to travel from station i to its next station (i+1). You begin the journey with an empty tank at one of the gas stations.

Return the starting gas station's index if you can travel around the circuit once in the clockwise direction, otherwise return -1.

## 解法
从每个位置开始进行一次判断的话，时间复杂度是O(n^2)，但这题是有O(n)的算法的。

用加油站i的起始油量gas[i]减去从加油站i到加油站i+1的耗油量cost[i]，就能知道从在第i个加油站加油到到达第i+1个加油站这个过程，油量的加/减情况profit[i]。

那么目标就是找到一段长度为N的，profit[i]之和始终大于等于0的序列(如果小于0就代表油不够了)

这就可以用DP了，用remain表示当前的剩余油量，动态转移方程为remain=min(remain+profit[i], 0)。如果行驶到某个加油站是剩余油量小于0了，就舍弃当前序列，以下一个加油站为起点重新开始。

令profit[i+N]=profit[i]以处理环的问题。

代码如下：`

    class Solution {
    public:
    int canCompleteCircuit(vector<int>& gas, vector<int>& cost) {
        int sum = 0;
        vector<int> profit(gas.size()*2);
        for (int i = 0;i < gas.size();i++) {
            profit[i] = gas[i] - cost[i];
            sum += profit[i];
            profit[i+gas.size()] = profit[i];
        }
        if (sum < 0) return -1;
        int i = 1, length = 1;
        while (profit[i-1] < 0) i++;
        int remain = profit[i-1];
        while (i < profit.size() && length < gas.size()) {
            if (remain + profit[i] < 0) {
                remain = 0;length = 0;
            } 
            else {
                remain = remain + profit[i];length++;
            }
            i++;
        }
            
        if (length == gas.size()) return i-gas.size();
            else return -1;
    }
};



